-- accounts.directories определение

-- Drop table

-- DROP TABLE test.directories;

CREATE TABLE test.directories (
	sl_name varchar NOT NULL,
	directory varchar NOT NULL,
	regions bool NULL,
	sl_code varchar NULL,
	order_description varchar NULL,
	CONSTRAINT directories_pk PRIMARY KEY (sl_name)
);

-- test.service определение

-- Drop table

-- DROP TABLE test.service;

CREATE TABLE test.service (
	id serial4 NOT NULL,
	sl_code varchar NOT NULL,
	sl_name varchar NOT NULL,
	sl_full_name varchar(64) NULL,
	CONSTRAINT service_sl_name_key UNIQUE (sl_name),
	CONSTRAINT sluzhba_pkey PRIMARY KEY (id)
);

-- test.temp_users определение

-- Drop table

-- DROP TABLE test.temp_users;

CREATE TABLE test.temp_users (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	username varchar(255) NOT NULL,
	password_hash varchar(255) NOT NULL,
	"role" varchar NULL,
	CONSTRAINT temp_users_pkey PRIMARY KEY (id),
	CONSTRAINT temp_users_unique UNIQUE (role),
	CONSTRAINT temp_users_username_key UNIQUE (username)
);


-- test.users определение

-- Drop table

-- DROP TABLE test.users;

CREATE TABLE test.users (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	username varchar(255) NOT NULL,
	password_hash varchar(255) NOT NULL,
	created_at timestamp DEFAULT CURRENT_TIMESTAMP NULL,
	"role" varchar NULL,
	CONSTRAINT users_pkey PRIMARY KEY (id),
	CONSTRAINT users_unique UNIQUE (role),
	CONSTRAINT users_username_key UNIQUE (username)
);